---
title: "Untitled"
output: html_document
date: "2023-11-27"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, include=FALSE, message=FALSE, warning=FALSE}
knitr::opts_chunk$set(
	message = FALSE,
	warning = FALSE,
	include = FALSE
)

pkgs <- c("pkgbuild", "pkgconfig", "plyr", "dplyr", "MASS", "grid", "gtable", "gtools", "jsonlite", "knitr", "markdown", "rmarkdown", "parallel", "scales", "rlang", "distributional", "forecast", "reader", "readxl", "tinytex", "stringr", "ggplot2", "uroot", "FinTS", "Rdpack", "latex2exp", "plot3D", "ks", "rugarch",
          "~/PSTAT274/Project/Packages/astsa_2.0.tar.gz",
          "~/PSTAT274/Project/Packages/Dict_0.1.0.tar.gz",
          "~/PSTAT274/Project/Packages/UnitCircle_0.1.3.tar.gz",
          "~/PSTAT274/Project/Packages/expm_0.999-7.tar.gz",
          "~/PSTAT274/Project/Packages/MSGARCH_2.51.tar.gz",
          "~/PSTAT274/Project/Packages/polynom_1.4-1.tar.gz",
          "~/PSTAT274/Project/Packages/PolynomF_2.0-5.tar.gz",
          "~/PSTAT274/Project/Packages/locfit_1.5-9.8.tar.gz",
          "~/PSTAT274/Project/Packages/leaps_3.1.tar.gz",
          "~/PSTAT274/Project/Packages/rbibutils_2.2.15.tar.gz",
          "~/PSTAT274/Project/Packages/Rdpack_2.5.tar.gz",
          "~/PSTAT274/Project/Packages/Formula_1.2-5.tar.gz",
          "~/PSTAT274/Project/Packages/lagged_0.3.2.tar.gz",
          "~/PSTAT274/Project/Packages/ltsa_1.4.6.tar.gz",
          "~/PSTAT274/Project/Packages/insight_0.19.5.tar.gz",
          "~/PSTAT274/Project/Packages/MuMIn_1.47.5.tar.gz",
          "~/PSTAT274/Project/Packages/nortest_1.0-4.tar.gz",
          "~/PSTAT274/Project/Packages/nortsTest_1.0.3.tar.gz",
          "~/PSTAT274/Project/Packages/sarima_0.9.1.tar.gz",
          "~/PSTAT274/Project/Packages/SBAGM_0.1.0.tar.gz",
          "~/PSTAT274/Project/Packages/sae_1.3.tar.gz",
          "~/PSTAT274/Project/Packages/tseries_0.10-54.tar.gz",
          "~/PSTAT274/Project/Packages/TSA_1.3.1.tar.gz")

for(i in 1:length(pkgs)){
  if(substr(pkgs[i], 1, 28) != "~/PSTAT274/Project/Packages/"){
    res = pkgs[i]
    if(res %in% installed.packages() == FALSE){
      install.packages(res, dependencies = TRUE)}}
  if(substr(pkgs[i], 1, 28) == "~/PSTAT274/Project/Packages/"){
    res = str_match(pkgs[i], "~/PSTAT274/Project/Packages/(.*?)_")[2]
    if(res %in% installed.packages() == FALSE){
      install.packages(pkgs[i], repos=NULL, type="source")}}
  library(res, character.only = TRUE)}

```

\

We will be testing the datasets corresponding to:\
  - The smoothed amount of daily new COVID cases (Cases)
  - The smoothed amount of daily new deaths from COVID (Deathss)
  - The daily mortality rate of those who contract COVID (Mortality)
  - The daily percent of the world that has been vaccinated (Vaccinated)\
\

For each data set, the length of the time series will be evaluated in at most 3 ways:\
  - [January 8, 2020 - May 24, 2023]
    - Cases will begin on the 6th observation day, January 8, 2020, since there were some observations of 0 new cases before then
  - [January 12, 2020 - May 24, 2023]
    - Deaths and Mortality will begin on the 10th observation day, January 12, 2020, since that was the time of the first death
  - [January 8, 2020 - December 3, 2020]
    - This will account for all daily observations of Cases before the first person got vaccinated
  - [January 12, 2020 - December 3, 2020]
    - This will account for all daily observations for Deaths and Mortality before the first person got vaccinated
  - [December 4, 2020 - May 24, 2023]
    - This will account for all daily observations for Cases, Deaths, Mortality, and Vaccinated since the first person got vaccinated.\
\

Additionally, since daily observations can be very noisy, we will also be testing the weekly average for each of the previously mentioned time series. In total, that will be 20 data sets.\
\

In regards to the names of the data sets:\
  - '1' refers to the entire pandemic
  - '2' refers to the time before the first vaccination
  - '3' refers to the time since the first vaccination
  - 'a' denotes daily observations
  - 'b' denotes average weekly observations\
\

# Original Datasets
```{r}
options(scipen = 9)
covid <- read_excel("covid_final_data.xlsx")


# Smoothed_Cases: [January 8, 2020 - September 27, 2023]
  # Daily
Smoothed_Cases1a = ts(covid$new_cases_smoothed[1:1359])
Smoothed_Cases1a= data.frame(Smoothed_Cases1a)

```